(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1P4O":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("tY8R"),o=n("tY8R");function a(t,e,n){return{getConfig:function(r){return r&&r!==t?n.targetDrawingContext.getConfig(r):e},getState:function(e){return e&&e!==t?n.targetDrawingContext.getState(e):n},move:function(t){var e=n.stylusStates[0];o.copyStylusState(e,t)},up:function(t){var r=n.stylusStates[0],a=n.stylusStates[n.stylusStates.length-1];if(o.copyStylusState(r,t),e.catchUp){var i=void 0,s=void 0;do{n.update(),i=a.x-r.x|0,s=a.y-r.y|0}while(i||s)}return n.targetDrawingContext.up(a)}}}e.defaultSnakeConfig={tailCount:3,weight:.5,catchUp:!0},e.getStroke=function(t){var e={resume:function(t,n){var o=t.tailCount+1-n.stylusStates.length;if(o>0){var i=n.stylusStates[n.stylusStates.length-1];n.stylusStates=n.stylusStates.concat(r.createStylusStates(o,i))}else o<0&&(n.stylusStates.length-=o);return a(e,t,n)},down:function(n,i){var s=r.createStylusStates(n.tailCount+1,i),u=s[s.length-1],c={targetDrawingContext:t.down(n.targetConfig,i),stylusStates:s,update:function(){for(var t=1-Math.min(.95,Math.max(0,n.weight)),e=1;e<s.length;++e){var r=s[e],a=s[e-1];o.interpolateStylusState(r,a,t)}c.targetDrawingContext.move(u)}};return a(e,n,c)}};return e}},"3YkL":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/stabilizer-snake",function(){return n("l3fO")}])},Mp5o:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ERkP");function o(){var t=Object(r.useState)(0)[1],e={cnt:0,fn:function(){return t(++e.cnt)}};return Object(r.useRef)(e).current.fn}},hO0T:function(t,e,n){"use strict";var r=n("cxan"),o=n("zjfJ"),a=n("HbGN"),i=n("ERkP"),s=n.n(i).a.createElement;function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=function(t){var e=t.brushSize,n=t.stylusStates,o=t.style,i=Object(a.a)(t,["brushSize","stylusStates","style"]),u=n.map((function(t){return t.x+","+t.y})).join(" ");return s("svg",Object(r.a)({},i,{style:c(c({},o),{},{overflow:"visible",pointerEvents:"none",userSelect:"none"})}),s("polyline",{points:u,fill:"none",stroke:"white",strokeWidth:8,strokeLinecap:"round"}),n.map((function(t,n){var r=t.x,o=t.y,a=t.pressure;return s("circle",{key:n,r:e*a*.5,cx:r,cy:o,fill:"none",stroke:"white",strokeWidth:8})})),s("polyline",{points:u,fill:"none",stroke:"red",strokeWidth:4,strokeLinecap:"round"}),n.map((function(t,n){var r=t.x,o=t.y,a=t.pressure;return s("circle",{key:n,r:e*a*.5,cx:r,cy:o,fill:"none",stroke:"red",strokeWidth:4})})))}},l3fO:function(t,e,n){"use strict";n.r(e);var r=n("zjfJ"),o=n("ERkP"),a=n.n(o),i=n("Ek2b"),s=n("1P4O"),u=n("tY8R"),c=n("hO0T"),l=n("9e28"),f=n("Y6Yo"),p=n("XwAw"),g=n("l9U3"),b=n("RZvK"),y=n("Mp5o"),v=a.a.createElement;function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=Object(s.getStroke)(i.stroke);e.default=function(){var t=Object(o.useRef)(null);Object(g.a)(t);var e=Object(b.a)(),n=Object(o.useState)(),r=n[0],s=n[1],c=Object(o.useState)((function(){return{brushSize:40,tailCount:5,weight:.7}})),y=c[0],O=c[1];Object(o.useEffect)((function(){if(r){var t=setInterval(r.getState().update,10);return function(){return clearInterval(t)}}}),[r]);return Object(o.useEffect)((function(){if(r){var t=function(t){var e=Object(u.getStylusState)(t);r.move(e)},e=function(t){var e=Object(u.getStylusState)(t);r.up(e),s(void 0)};return window.addEventListener("pointermove",t),window.addEventListener("pointerup",e),function(){window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",e)}}}),[r]),v(a.a.Fragment,null,v("canvas",{ref:t,onPointerDown:function(e){var n=t.current.getContext("2d"),r=Object(u.getStylusState)(e.nativeEvent),o=w(w({},i.defaultBrushConfig),{},{ctx:n,size:y.brushSize}),a=h.down({tailCount:y.tailCount,weight:y.weight,catchUp:!0,targetConfig:o},r);s(a)},width:e.width,height:e.height,style:{position:"absolute",top:0,left:0,touchAction:"none"}}),v(S,{drawingContext:r}),v(l.a,{drawing:!!r}),v(f.a,{bannerColor:"#000",octoColor:"#fff",href:"https://github.com/disjukr/croquis.js/blob/master/packages/website/src/pages/example/stabilizer-snake.tsx"}),v(p.a,{className:"data-controller",data:y,setData:O,config:{brushSize:{label:"Brush Size",type:"range",min:0,max:100,step:1},tailCount:{label:"Tail Count",type:"range",min:1,max:10,step:1},weight:{label:"Weight",type:"range",min:0,max:1,step:.01}}}))};var S=function(t){var e=Object(y.a)();return Object(o.useEffect)((function(){var t=setInterval(e,10);return function(){clearInterval(t)}}),[]),t.drawingContext?v(c.a,{brushSize:t.drawingContext.getConfig(i.stroke).size,stylusStates:t.drawingContext.getState().stylusStates,style:{position:"absolute",top:0,left:0}}):null}}},[["3YkL",0,1,2,3]]]);