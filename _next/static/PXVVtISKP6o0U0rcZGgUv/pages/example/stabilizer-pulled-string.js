(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+Ri0":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("tY8R");function o(t,e,r){return{getConfig:function(n){return n&&n!==t?r.targetDrawingContext.getConfig(n):e},getState:function(e){return e&&e!==t?r.targetDrawingContext.getState(e):r},move:function(t){var o=e.stringLength,i=r.follower.x,a=r.follower.y,c=t.x-i,s=t.y-a,u=Math.sqrt(c*c+s*s);if(n.copyStylusState(r.follower,t),u>o){var l=Math.min((u-o)/o,1);r.follower.x=i+c*l,r.follower.y=a+s*l}else r.follower.x=i,r.follower.y=a;r.targetDrawingContext.move(r.follower)},up:r.targetDrawingContext.up}}e.defaultPulledStringConfig={stringLength:50},e.getStroke=function(t){var e={resume:function(t,r){return o(e,t,r)},down:function(r,i){var a={targetDrawingContext:t.down(r.targetConfig,i),follower:n.cloneStylusState(i)};return o(e,r,a)}};return e},e.getGuidePathData=function(t,e,r,n,o){var i=t-r,a=e-n,c=Math.sqrt(i*i+a*a);return c>=o?"M"+r+","+n+"L"+t+","+e:"M"+r+","+n+"Q"+(r+.5*(t-r))+","+(n+.5*(e-n)+(o-c))+" "+t+","+e}},"F+sN":function(t,e,r){"use strict";r.r(e);var n=r("zjfJ"),o=r("ERkP"),i=r.n(o),a=r("Ek2b"),c=r("+Ri0"),s=r("tY8R"),u=r("oamW"),l=r("9e28"),f=r("Y6Yo"),g=r("XwAw"),b=r("l9U3"),p=r("RZvK"),w=r("Mp5o"),d=i.a.createElement;function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var v=Object(c.getStroke)(a.stroke);e.default=function(){var t=Object(o.useRef)(null);Object(b.a)(t);var e=Object(p.a)(),r=Object(o.useState)(),c=r[0],u=r[1],w=Object(o.useState)((function(){return{brushSize:40,stringLength:100}})),h=w[0],j=w[1];return Object(o.useEffect)((function(){if(c){var t=function(t){var e=Object(s.getStylusState)(t);c.move(e)},e=function(t){var e=Object(s.getStylusState)(t);c.up(e),u(void 0)};return window.addEventListener("pointermove",t),window.addEventListener("pointerup",e),function(){window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",e)}}}),[c]),d(i.a.Fragment,null,d("canvas",{ref:t,onPointerDown:function(e){var r=t.current.getContext("2d"),o=Object(s.getStylusState)(e.nativeEvent),i=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},a.defaultBrushConfig,{ctx:r,size:h.brushSize}),c=v.down({stringLength:h.stringLength,targetConfig:i},o);u(c)},width:e.width,height:e.height,style:{position:"absolute",top:0,left:0,touchAction:"none"}}),d(y,{drawingContext:c}),d(l.a,{drawing:!!c}),d(f.a,{bannerColor:"#000",octoColor:"#fff",href:"https://github.com/disjukr/croquis.js/blob/master/packages/website/src/pages/example/stabilizer-pulled-string.tsx"}),d(g.a,{className:"data-controller",data:h,setData:j,config:{brushSize:{label:"Brush Size",type:"range",min:0,max:100,step:1},stringLength:{label:"String Length",type:"range",min:0,max:200,step:1}}}))};var h=Object(s.createStylusState)(),y=function(t){var e=Object(o.useState)(h),r=e[0],n=e[1],i=Object(w.a)();return Object(o.useEffect)((function(){var t=function(t){return n(Object(s.getStylusState)(t))},e=setInterval(i,10);return window.addEventListener("pointermove",t),function(){clearInterval(e),window.removeEventListener("pointermove",t)}}),[]),t.drawingContext?d(u.a,{brushSize:t.drawingContext.getConfig(a.stroke).size,stylusState:r,follower:t.drawingContext.getState().follower,stringLength:t.drawingContext.getConfig().stringLength,style:{position:"absolute",top:0,left:0}}):null}},Mp5o:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r("ERkP");function o(){var t=Object(n.useState)(0)[1],e={cnt:0,fn:function(){return t(++e.cnt)}};return Object(n.useRef)(e).current.fn}},oamW:function(t,e,r){"use strict";var n=r("cxan"),o=r("zjfJ"),i=r("HbGN"),a=r("ERkP"),c=r.n(a),s=r("+Ri0"),u=c.a.createElement;function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.a=function(t){var e=t.brushSize,r=t.stylusState,o=t.follower,a=t.stringLength,c=t.style,l=Object(i.a)(t,["brushSize","stylusState","follower","stringLength","style"]),g=Object(s.getGuidePathData)(r.x,r.y,o.x,o.y,a);return u("svg",Object(n.a)({},l,{style:f({},c,{overflow:"visible",pointerEvents:"none",userSelect:"none"})}),u("path",{d:g,fill:"none",stroke:"white",strokeWidth:8,strokeLinecap:"round"}),u("circle",{r:e*r.pressure*.5,cx:r.x,cy:r.y,fill:"none",stroke:"white",strokeWidth:8}),u("path",{d:g,fill:"none",stroke:"red",strokeWidth:4,strokeLinecap:"round"}),u("circle",{r:e*r.pressure*.5,cx:r.x,cy:r.y,fill:"none",stroke:"red",strokeWidth:4}),u("circle",{r:a,cx:o.x,cy:o.y,fill:"none",stroke:"red",strokeWidth:1}))}},xOXI:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/stabilizer-pulled-string",function(){return r("F+sN")}])}},[["xOXI",0,1,2,3]]]);